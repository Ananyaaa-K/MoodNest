{% extends 'base.html' %}

{% block content %}
<div class="calm-card rounded-3xl p-10 text-center animate-in fade-in zoom-in duration-500">
    <div
        class="w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">
        <i class="fa-solid fa-leaf"></i>
    </div>

    <h2 class="text-slate-500 dark:text-slate-400 uppercase tracking-widest text-xs font-bold mb-4">Your Micro-Habit
    </h2>

    <div class="text-2xl font-semibold text-slate-800 dark:text-slate-100 mb-6 leading-relaxed">
        "{{ habit.habit_text }}"
    </div>

    <div class="flex items-center justify-center text-slate-400 text-sm mb-10">
        <i class="fa-regular fa-clock mr-2"></i>
        <span>Takes about {{ habit.estimated_time }} mins</span>
    </div>

    <button id="doneBtn"
        class="w-full bg-slate-800 text-white rounded-2xl py-4 font-semibold hover:bg-slate-700 transition shadow-lg">
        I Did It!
    </button>

    <div class="grid grid-cols-2 gap-4 mt-6">
        <a href="{% url 'get_habit' %}?mood={{ habit.mood }}&exclude={{ habit.id }}"
            class="bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-2xl py-4 font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition text-center text-sm flex items-center justify-center">
            <i class="fa-solid fa-shuffle mr-2"></i> Shuffle
        </a>
        <a href="{% url 'home' %}"
            class="bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-2xl py-4 font-semibold hover:bg-emerald-200 dark:hover:bg-emerald-900/50 transition text-center text-sm flex items-center justify-center">
            <i class="fa-solid fa-home mr-2"></i> Home
        </a>
    </div>
</div>

<div id="successMsg" class="hidden mt-8 text-center animate-bounce">
    <p class="text-emerald-600 font-semibold">You did something small. That counts. âœ¨</p>
</div>

<script>
    document.getElementById('doneBtn').addEventListener('click', function () {
        this.classList.add('hidden');
        document.getElementById('successMsg').classList.remove('hidden');
        if (window.playChime) window.playChime();
    });
</script>
{% endblock %}